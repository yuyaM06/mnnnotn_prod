{"ast":null,"code":"import axios from 'axios';\nimport { POST_PRODUCT_REQUEST, POST_PRODUCT_SUCCESS, POST_PRODUCT_FAILURE } from './action';\n\nconst postProductRequest = () => {\n  return {\n    type: POST_PRODUCT_REQUEST,\n    payload: null\n  };\n};\n\nconst postProductSuccess = json => {\n  //Objectだとunknownが渡されてうまく動かなかった\n  return {\n    type: POST_PRODUCT_SUCCESS,\n    payload: json\n  };\n};\n\nconst postProductFailure = error => {\n  return {\n    type: POST_PRODUCT_FAILURE,\n    payload: error\n  };\n}; // const data = {\n//   \"sympton\": \"睡眠不足\"\n// }\n// Loadingしている風の時間 [msec]\n\n\nconst loadTime = 2000;\n\nconst postProductAction = postData => {\n  return async dispatch => {\n    dispatch(postProductRequest());\n    return await axios.post('http://localhost:3100/product/', postData).then(async res => {\n      console.log(res.data);\n      console.log(\"dispatch start\");\n      dispatch(postProductSuccess(res.data));\n      await new Promise(resolve => setTimeout(resolve, loadTime)); //loadTimeだけ待つ\n\n      console.log(\"dispatch end\");\n    }).catch(err => {\n      console.log(err);\n      dispatch(postProductFailure(err));\n    });\n  };\n};\n\nexport default postProductAction;","map":{"version":3,"sources":["/Users/yuya/Workspace/React/test-app/src/components/postProductAction.ts"],"names":["axios","POST_PRODUCT_REQUEST","POST_PRODUCT_SUCCESS","POST_PRODUCT_FAILURE","postProductRequest","type","payload","postProductSuccess","json","postProductFailure","error","loadTime","postProductAction","postData","dispatch","post","then","res","console","log","data","Promise","resolve","setTimeout","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAiBC,oBAAjB,EAAuCC,oBAAvC,EAA6DC,oBAA7D,QAAyF,UAAzF;;AAEA,MAAMC,kBAAkB,GAAG,MAAc;AACvC,SAAO;AACLC,IAAAA,IAAI,EAAEJ,oBADD;AAELK,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,IAAD,IAAuB;AAAG;AACnD,SAAO;AACLH,IAAAA,IAAI,EAAEH,oBADD;AAELI,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,KAAD,IAA2B;AACpD,SAAO;AACLL,IAAAA,IAAI,EAAEF,oBADD;AAELG,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID,CALD,C,CAOA;AACA;AACA;AAEA;;;AACA,MAAMC,QAAQ,GAAG,IAAjB;;AAEA,MAAMC,iBAAiB,GAAIC,QAAD,IAAmB;AAC3C,SAAO,MAAOC,QAAP,IAAyB;AAC9BA,IAAAA,QAAQ,CAACV,kBAAkB,EAAnB,CAAR;AACA,WAAO,MAAMJ,KAAK,CAACe,IAAN,CAAW,gCAAX,EAA6CF,QAA7C,EACVG,IADU,CACL,MAAMC,GAAN,IAAa;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAL,MAAAA,QAAQ,CAACP,kBAAkB,CAACU,GAAG,CAACG,IAAL,CAAnB,CAAR;AACA,YAAM,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUX,QAAV,CAAjC,CAAN,CAJiB,CAI2C;;AAC5DO,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD,KAPU,EAQTK,KARS,CAQHC,GAAG,IAAI;AACbP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACAX,MAAAA,QAAQ,CAACL,kBAAkB,CAACgB,GAAD,CAAnB,CAAR;AACD,KAXU,CAAb;AAYD,GAdD;AAeD,CAhBD;;AAmBA,eAAeb,iBAAf","sourcesContent":["import axios from 'axios';\nimport { Action, POST_PRODUCT_REQUEST, POST_PRODUCT_SUCCESS, POST_PRODUCT_FAILURE } from './action';\n\nconst postProductRequest = (): Action => {\n  return {\n    type: POST_PRODUCT_REQUEST,\n    payload: null\n  }\n}\n\nconst postProductSuccess = (json: any): Action => {  //Objectだとunknownが渡されてうまく動かなかった\n  return {\n    type: POST_PRODUCT_SUCCESS,\n    payload: json\n  }\n}\n\nconst postProductFailure = (error: Object): Action => {\n  return {\n    type: POST_PRODUCT_FAILURE,\n    payload: error\n  }\n}\n\n// const data = {\n//   \"sympton\": \"睡眠不足\"\n// }\n\n// Loadingしている風の時間 [msec]\nconst loadTime = 2000\n\nconst postProductAction = (postData: any) => {\n  return async (dispatch: any) => {\n    dispatch(postProductRequest())\n    return await axios.post('http://localhost:3100/product/', postData)\n      .then(async res => {\n        console.log(res.data)\n        console.log(\"dispatch start\")\n        dispatch(postProductSuccess(res.data))\n        await new Promise(resolve => setTimeout(resolve, loadTime)) //loadTimeだけ待つ\n        console.log(\"dispatch end\")\n      }\n      ).catch(err => {\n        console.log(err)\n        dispatch(postProductFailure(err))\n      })\n  }\n}\n\n\nexport default postProductAction;\n"]},"metadata":{},"sourceType":"module"}