{"ast":null,"code":"import axios from 'axios';\nimport { POST_PRODUCT_REQUEST, POST_PRODUCT_SUCCESS, POST_PRODUCT_FAILURE } from './action';\n\nconst postProductRequest = () => {\n  return {\n    type: POST_PRODUCT_REQUEST,\n    payload: null\n  };\n};\n\nconst postProductSuccess = json => {\n  //Objectだとunknownが渡されてうまく動かなかった\n  return {\n    type: POST_PRODUCT_SUCCESS,\n    payload: json\n  };\n};\n\nconst postProductFailure = error => {\n  return {\n    type: POST_PRODUCT_FAILURE,\n    payload: error\n  };\n};\n/* for debug */\n// const data = {\n//   \"sympton\": \"睡眠不足\"\n// }\n\n\nconst postProductAction = postData => {\n  return async dispatch => {\n    dispatch(postProductRequest());\n    return await axios.post('http://localhost:3100/product/', postData).then(res => {\n      console.log(res.data);\n      console.log(\"dispatch start\");\n      dispatch(postProductSuccess(res.data));\n      console.log(\"dispatch end\");\n    }).catch(err => {\n      console.log(err);\n      dispatch(postProductFailure(err));\n    });\n  };\n};\n\nexport default postProductAction;","map":{"version":3,"sources":["/Users/yuya/Workspace/React/test-app/src/components/postProductAction.ts"],"names":["axios","POST_PRODUCT_REQUEST","POST_PRODUCT_SUCCESS","POST_PRODUCT_FAILURE","postProductRequest","type","payload","postProductSuccess","json","postProductFailure","error","postProductAction","postData","dispatch","post","then","res","console","log","data","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAiBC,oBAAjB,EAAuCC,oBAAvC,EAA6DC,oBAA7D,QAAyF,UAAzF;;AAEA,MAAMC,kBAAkB,GAAG,MAAc;AACvC,SAAO;AACLC,IAAAA,IAAI,EAAEJ,oBADD;AAELK,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,IAAD,IAAuB;AAAG;AACnD,SAAO;AACLH,IAAAA,IAAI,EAAEH,oBADD;AAELI,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,KAAD,IAA2B;AACpD,SAAO;AACLL,IAAAA,IAAI,EAAEF,oBADD;AAELG,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID,CALD;AAOA;AACA;AACA;AACA;;;AAEA,MAAMC,iBAAiB,GAAIC,QAAD,IAAmB;AAC3C,SAAO,MAAOC,QAAP,IAAyB;AAC9BA,IAAAA,QAAQ,CAACT,kBAAkB,EAAnB,CAAR;AACA,WAAO,MAAMJ,KAAK,CAACc,IAAN,CAAW,gCAAX,EAA6CF,QAA7C,EACVG,IADU,CACLC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAL,MAAAA,QAAQ,CAACN,kBAAkB,CAACS,GAAG,CAACG,IAAL,CAAnB,CAAR;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD,KANU,EAOTE,KAPS,CAOHC,GAAG,IAAI;AACbJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ;AACAR,MAAAA,QAAQ,CAACJ,kBAAkB,CAACY,GAAD,CAAnB,CAAR;AACD,KAVU,CAAb;AAWD,GAbD;AAcD,CAfD;;AAkBA,eAAeV,iBAAf","sourcesContent":["import axios from 'axios';\nimport { Action, POST_PRODUCT_REQUEST, POST_PRODUCT_SUCCESS, POST_PRODUCT_FAILURE } from './action';\n\nconst postProductRequest = (): Action => {\n  return {\n    type: POST_PRODUCT_REQUEST,\n    payload: null\n  }\n}\n\nconst postProductSuccess = (json: any): Action => {  //Objectだとunknownが渡されてうまく動かなかった\n  return {\n    type: POST_PRODUCT_SUCCESS,\n    payload: json\n  }\n}\n\nconst postProductFailure = (error: Object): Action => {\n  return {\n    type: POST_PRODUCT_FAILURE,\n    payload: error\n  }\n}\n\n/* for debug */\n// const data = {\n//   \"sympton\": \"睡眠不足\"\n// }\n\nconst postProductAction = (postData: any) => {\n  return async (dispatch: any) => {\n    dispatch(postProductRequest())\n    return await axios.post('http://localhost:3100/product/', postData)\n      .then(res => {\n        console.log(res.data)\n        console.log(\"dispatch start\")\n        dispatch(postProductSuccess(res.data))\n        console.log(\"dispatch end\")\n      }\n      ).catch(err => {\n        console.log(err)\n        dispatch(postProductFailure(err))\n      })\n  }\n}\n\n\nexport default postProductAction;\n"]},"metadata":{},"sourceType":"module"}