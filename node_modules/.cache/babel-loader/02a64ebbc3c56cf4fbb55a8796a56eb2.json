{"ast":null,"code":"import axios from 'axios';\nimport { POST_PRODUCT_REQUEST, POST_PRODUCT_SUCCESS, POST_PRODUCT_FAILURE } from './action';\n\nconst postProductRequest = () => {\n  return {\n    type: POST_PRODUCT_REQUEST,\n    payload: null\n  };\n};\n\nconst postProductSuccess = json => {\n  //Objectだとunknownが渡されてうまく動かなかった\n  return {\n    type: POST_PRODUCT_SUCCESS,\n    payload: json\n  };\n};\n\nconst postProductFailure = error => {\n  return {\n    type: POST_PRODUCT_FAILURE,\n    payload: error\n  };\n};\n/* for debug */\n// const data = {\n//   \"sympton\": \"睡眠不足\"\n// }\n// Loadingしている風の時間 [msec]\n\n\nconst loadTime = 2000;\n\nconst postProductAction = postData => {\n  return async dispatch => {\n    dispatch(postProductRequest());\n    await new Promise(resolve => setTimeout(resolve, loadTime)); //loadTimeだけ待つ\n\n    console.log(\"待機後\");\n    return await axios.post('http://localhost:3100/product/', postData).then(res => {\n      console.log(res.data);\n      console.log(\"dispatch start\");\n      dispatch(postProductSuccess(res.data));\n      console.log(\"dispatch end\");\n    }).catch(err => {\n      console.log(err);\n      dispatch(postProductFailure(err));\n    });\n  };\n};\n\nexport default postProductAction;","map":{"version":3,"sources":["/Users/yuya/Workspace/React/test-app/src/components/postProductAction.ts"],"names":["axios","POST_PRODUCT_REQUEST","POST_PRODUCT_SUCCESS","POST_PRODUCT_FAILURE","postProductRequest","type","payload","postProductSuccess","json","postProductFailure","error","loadTime","postProductAction","postData","dispatch","Promise","resolve","setTimeout","console","log","post","then","res","data","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAiBC,oBAAjB,EAAuCC,oBAAvC,EAA6DC,oBAA7D,QAAyF,UAAzF;;AAEA,MAAMC,kBAAkB,GAAG,MAAc;AACvC,SAAO;AACLC,IAAAA,IAAI,EAAEJ,oBADD;AAELK,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,IAAD,IAAuB;AAAG;AACnD,SAAO;AACLH,IAAAA,IAAI,EAAEH,oBADD;AAELI,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMC,kBAAkB,GAAIC,KAAD,IAA2B;AACpD,SAAO;AACLL,IAAAA,IAAI,EAAEF,oBADD;AAELG,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID,CALD;AAOA;AACA;AACA;AACA;AAEA;;;AACA,MAAMC,QAAQ,GAAG,IAAjB;;AAEA,MAAMC,iBAAiB,GAAIC,QAAD,IAAmB;AAC3C,SAAO,MAAOC,QAAP,IAAyB;AAC9BA,IAAAA,QAAQ,CAACV,kBAAkB,EAAnB,CAAR;AACA,UAAM,IAAIW,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUL,QAAV,CAAjC,CAAN,CAF8B,CAE8B;;AAC5DO,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA,WAAO,MAAMnB,KAAK,CAACoB,IAAN,CAAW,gCAAX,EAA6CP,QAA7C,EACVQ,IADU,CACLC,GAAG,IAAI;AACXJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAL,MAAAA,QAAQ,CAACP,kBAAkB,CAACe,GAAG,CAACC,IAAL,CAAnB,CAAR;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD,KANU,EAOTK,KAPS,CAOHC,GAAG,IAAI;AACbP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACAX,MAAAA,QAAQ,CAACL,kBAAkB,CAACgB,GAAD,CAAnB,CAAR;AACD,KAVU,CAAb;AAWD,GAfD;AAgBD,CAjBD;;AAoBA,eAAeb,iBAAf","sourcesContent":["import axios from 'axios';\nimport { Action, POST_PRODUCT_REQUEST, POST_PRODUCT_SUCCESS, POST_PRODUCT_FAILURE } from './action';\n\nconst postProductRequest = (): Action => {\n  return {\n    type: POST_PRODUCT_REQUEST,\n    payload: null\n  }\n}\n\nconst postProductSuccess = (json: any): Action => {  //Objectだとunknownが渡されてうまく動かなかった\n  return {\n    type: POST_PRODUCT_SUCCESS,\n    payload: json\n  }\n}\n\nconst postProductFailure = (error: Object): Action => {\n  return {\n    type: POST_PRODUCT_FAILURE,\n    payload: error\n  }\n}\n\n/* for debug */\n// const data = {\n//   \"sympton\": \"睡眠不足\"\n// }\n\n// Loadingしている風の時間 [msec]\nconst loadTime = 2000\n\nconst postProductAction = (postData: any) => {\n  return async (dispatch: any) => {\n    dispatch(postProductRequest())\n    await new Promise(resolve => setTimeout(resolve, loadTime)) //loadTimeだけ待つ\n    console.log(\"待機後\")\n    return await axios.post('http://localhost:3100/product/', postData)\n      .then(res => {\n        console.log(res.data)\n        console.log(\"dispatch start\")\n        dispatch(postProductSuccess(res.data))\n        console.log(\"dispatch end\")\n      }\n      ).catch(err => {\n        console.log(err)\n        dispatch(postProductFailure(err))\n      })\n  }\n}\n\n\nexport default postProductAction;\n"]},"metadata":{},"sourceType":"module"}